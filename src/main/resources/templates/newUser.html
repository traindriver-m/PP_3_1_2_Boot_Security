<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div th:fragment="content">
    <div class="row-cols-auto bg-white">
        <div class="col-12 bg-light border">
            <h5 class="pl-3 pt2 pb-2">Add new user</h5>
        </div>
        <div class="col-12 pl-3 pr-3 pt-3 pb-3 border">
            <div class="text-center col-12 offset-3 col-md-6 offset-md-3" >
                <div class="form-group text-center">
                    <label class="font-weight-bold"
                           for="firstNameNew">First Name</label>
                    <input id="firstNameNew"
                           class="form-control">
                </div>
                <div class="form-group text-center">
                    <label class="font-weight-bold"
                           for="lastNameNew">Last Name</label>
                    <input id="lastNameNew"
                           class="form-control">
                    <div class="form-group text-center">
                        <label class="font-weight-bold"
                               for="ageNew">Age</label>
                        <input id="ageNew"
                               class="form-control">
                    </div>
                </div>
                <div class="form-group text-center">
                    <label class="font-weight-bold"
                           for="emailNew">Email</label>
                    <input id="emailNew"
                           class="form-control">
                </div>
                <div class="form-group text-center">
                    <label class="font-weight-bold"
                           for="passwordNew">Password</label>
                    <input type="password"
                           id="passwordNew"
                           class="form-control">
                </div>
                <div class="form-group text-center">
                    <label class="font-weight-bold"
                           for="rolesNew">Role</label>
                    <select multiple class="form-control"
                            id="rolesNew">
                    </select>
                </div>
                <button id="addUserBtn" type="submit" class="btn btn-success btn-lg">Add new user</button>
            </div>
        </div>
    </div>
    <script defer>
        fetch('/api/roles').then(res => {
            res.json().then(roles => {
                let temp = "";
                let newRole = {
                    id:0,
                    role:""
                };
                document.getElementById("rolesNew").size = roles.length;
                roles.forEach(r => {
                    newRole.id=r.id;
                    newRole.role = r.role;
                    temp += "<option>" + newRole.role + "</option>>"
                })
                document.getElementById("rolesNew").innerHTML = temp
            })
        })
    </script>
</div>
</body>
</html>